<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Many craft. Wow. Such create</title><link href="http://maciej.lasyk.info/" rel="alternate"></link><link href="http://maciej.lasyk.info/feeds/tag/dnsmasq.atom.xml" rel="self"></link><id>http://maciej.lasyk.info/</id><updated>2014-09-22T00:00:00+02:00</updated><entry><title>OpenWRT, Dnsmasq + external DNS</title><link href="http://maciej.lasyk.info/2014/Sep/22/openwrt-dnsmasq-external-dns/" rel="alternate"></link><updated>2014-09-22T00:00:00+02:00</updated><author><name>Maciej Lasyk</name></author><id>tag:maciej.lasyk.info,2014-09-22:2014/Sep/22/openwrt-dnsmasq-external-dns/</id><summary type="html">&lt;p&gt;I use &lt;a href="https://openwrt.org/"&gt;OpenWRT&lt;/a&gt; on my home access - points instead of
stock software (due to security concerns and my OpenSourceTheWorld approach).&lt;/p&gt;
&lt;p&gt;I also have &lt;a href="https://en.wikipedia.org/wiki/BIND"&gt;BIND&lt;/a&gt; in use on my
home-server, so I can use e.g. &lt;a href="http://maciej.lasyk.info/2014/Sep/02/dns-views-in-bind/"&gt;zones&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;So I was trying to make OpenWRT send DNS IP address to DHCP clients. By default
OpenWRT will send it's own IP (it's using Dnsmasq onboard). And I just couldn't
find option to set this manually (using webinteface).&lt;/p&gt;
&lt;p&gt;Finally I logged into CLI interface via SSH and found that this change can be
made in two ways.&lt;/p&gt;
&lt;p&gt;In &lt;strong&gt;/etc/dnsmasq.conf&lt;/strong&gt; by adding line:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;dhcp-option&lt;span class="o"&gt;=&lt;/span&gt;6,IP1,IP2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Or in &lt;strong&gt;/etc/config/dhcp&lt;/strong&gt; by adding to the section &lt;strong&gt;config dnsmasq&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;list &lt;span class="s1"&gt;&amp;#39;dhcp_option&amp;#39;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;6,192.168.1.29&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Just restart Dnsmaq service afterwards and you're done.&lt;/p&gt;</summary><category term="dns"></category><category term="openwrt"></category><category term="dnsmasq"></category><category term="dhcp"></category></entry></feed>