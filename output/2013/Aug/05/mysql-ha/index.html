<!DOCTYPE html>
<html lang="en">
<head>
        <title>Many craft. Wow. Such create : Mysql HA</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://maciej.lasyk.info/theme/css/main.css" type="text/css" />
        <link href="http://maciej.lasyk.info/" type="application/atom+xml" rel="alternate" title="Many craft. Wow. Such create ATOM Feed" />
        <link href="http://maciej.lasyk.info/feeds/rss.xml" type="application/atom+xml" rel="alternate" title="Many craft. Wow. Such create RSS Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://maciej.lasyk.info/css/ie.css"/>
                <script src="http://maciej.lasyk.info/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://maciej.lasyk.info/css/ie6.css"/><![endif]-->

</head>

<body>
	<div id="wrap" style="width:850px">
	    <div id="container" style="width:560px">


            <div class="entry">
        
<header>
<h1><a href="http://maciej.lasyk.info" id="site-title">  </a>         <a href="http://maciej.lasyk.info/2013/Aug/05/mysql-ha/" id="page-title">Mysql HA</a></h1>
<time datetime="2013-08-05T00:00:00+02:00">Mon 05 August 2013</time></header>
<article>
    <p><center><img alt="VIM" src="http://maciej.lasyk.info/images/mysql_logo.png" /></center></p>
<p>This is very interesting topic from sysops’ point of view. Honestly – It’s not
that common to find a well organised HA MySQL environment (I’m talking here
about good failover solution in master – slave scenario).</p>
<p>I won’t write here details for the most known solutions / scenarios – I think
it’s enough to point those that one can check if it fits his needs.</p>
<ol>
<li><strong>Master – master replication</strong>. In this scenario we don’t need failover
– when we have some outage of one of those masters then it’s no problem as
second one is still working. It’s good to use some LB layer between application
and MySQL hosts that makes the app always hit the working server.</li>
<li><strong>MySQL cluster</strong>. This is very comfortable scenario as MySQL cluster takes care of
almost everything – this is “no single point of failure” solution. You can read
about those <a href="http://www.mysql.com/products/cluster/">here</a> and <a href="http://dev.mysql.com/downloads/cluster/">here</a> -</li>
<li><strong>MySQL Galera cluster</strong> – for synchronous, active – active multi – master
topology: <a href="http://www.codership.com/content/using-galera-cluste">click here</a></li>
<li><strong>Failover</strong> – for now I know 2 solutions worth mentioning:<ol>
<li>Matsunobu Yoshinori created mysql-master-ha (working on MySQL servers 5.0, 5.1
and later) – this is very good tool, that handles automatic, manual and semi –
manual failovers (even when slaves are in different relaylog positions). In
addition You can use it when MySQL master host migration is needed. I recommend
watching those <a href="http://www.slideshare.net/matsunobu/automated-master-failover">slides</a>. Project site is hosted <a href="https://code.google.com/p/mysql-master-ha/">here</a></li>
<li>MySQL utilities – this is quite simple daemon which primary job is to perform
automated failover when needed. You can read about it <a href="http://www.clusterdb.com/mysql/mysql-utilities-webinar-qa-replay-now-available/">here</a></li>
</ol>
</li>
</ol>
    <h2>Comments</h2>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
       var disqus_shortname = 'manycraft';
       var disqus_identifier = '2013/Aug/05/mysql-ha/';
       var disqus_url = 'http://maciej.lasyk.info/2013/Aug/05/mysql-ha/';
       (function() {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] ||
             document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the comments.</noscript>
</article>
            </div>
        </div>

        <div id="sidebar">
            <h1><a href="http://maciej.lasyk.info" title="title">Many craft. Wow. Such create</a><br><img
                src="/theme/img/chunkybacon.png"></h1>
            <span class="description"> </span>
        </div>

        <div id="feedsbar">
            <ul>
            <li><a href="/feeds/rss.xml">RSS</a> | <a href="/feeds/atom.xml">Atom</a></li>
            </ul>
        </div>

        <div id="tagcloud">
        <nav>
            <ul class="tagcloud">
                    <li class="tag-1"><a href="http://maciej.lasyk.info/tag/centos.html">centos</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/kubernetes.html">kubernetes</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/boot.html">boot</a></li>
                    <li class="tag-3"><a href="http://maciej.lasyk.info/tag/pelican.html">pelican</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/selinux.html">selinux</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/dns.html">dns</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/talks.html">talks</a></li>
                    <li class="tag-3"><a href="http://maciej.lasyk.info/tag/kvm.html">kvm</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/libvirt.html">libvirt</a></li>
                    <li class="tag-3"><a href="http://maciej.lasyk.info/tag/fedora.html">fedora</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/fig.html">fig</a></li>
                    <li class="tag-3"><a href="http://maciej.lasyk.info/tag/conferences.html">conferences</a></li>
                    <li class="tag-3"><a href="http://maciej.lasyk.info/tag/ebooks.html">ebooks</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/rhel.html">rhel</a></li>
                    <li class="tag-1"><a href="http://maciej.lasyk.info/tag/docker.html">docker</a></li>
                    <li class="tag-1"><a href="http://maciej.lasyk.info/tag/security.html">security</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/iscsi.html">iscsi</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/piwik.html">piwik</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/tmux.html">tmux</a></li>
                    <li class="tag-4"><a href="http://maciej.lasyk.info/tag/books.html">books</a></li>
            </ul>
        </nav>
        </div>

        <div id="footer">
            <div id="credits">
                <span>Adapted from <a
                        href="http://wordpress.org/themes/monospace">Monospace</a>
                || Created with <a href="">Pelican</a> || Hosted with <a
                    href="http://docker.io/">Docker</a></span>
                <p>content copyrights &copy; Maciej Lasyk</p>
            </div>
                
        </div>

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-61452-19");
    pageTracker._trackPageview();
    } catch(err) {}</script>
    <script type="text/javascript">
        var pkBaseURL = (("https:" == document.location.protocol) ? "https://analytics.lasyk.info/" : "http://analytics.lasyk.info/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
    </script><noscript><p><img src="http://analytics.lasyk.info/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
<script type="text/javascript">
    var disqus_shortname = 'manycraft';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

    </div>

</body>
</html>